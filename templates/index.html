<!DOCTYPE html>
<html>
<head>
  <title>AtCoder Friend Finder</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>AtCoder Friend Finder</h1>
  {% if authorized == False %}
    <input type="hidden" class="authorized" value="false">
    <p><a href="{{ url_for('twitter_auth') }}">Sign in with Twitter</a></p>
  {% else %}
    <input type="hidden" class="authorized" value="true">
    <button class="find_button">フレンドを探す</button>
    <table class="friends_table">
      <thead>
        <td>AtCoder ID</td>
        <td>Twitter</td>
      </thead>
      <tbody class="friends_table_body">
      </tbody>
    </table>
    <div class="tweet_button_wrapper">
    </div>
  {% endif %}
  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>
  <script>
    const URL_FOR_FIND_FRIENDS = "{{ url_for('find_friends') }}"
  </script>
  <script src="{{ url_for('static', filename='script.js') }}"></script>
  <script>window.twttr = (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
      t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);

    t._e = [];
    t.ready = function(f) {
      t._e.push(f);
    };

    return t;
  }(document, "script", "twitter-wjs"));</script>
</body>
</html>
